
<div class="padding">
  <form [formGroup]="formulario" (ngSubmit)="onSubmit()" class="teste">
    <div class="row">

      <div class="col-md-9 col-sm-9">
    
      </div>
      <div class="col-md-1 col-sm-1">
        <button type="submit" [class.valid]="!formulario.valid" class="btn btn-secondary"
          style="background-color: #497095; color: white;"><span class="v">Salvar</span></button>
      </div>
      <div class="col-md-2 col-sm-2">
        <button type="button" class="btn btn-secondary" style="background-color: #497095; color: white;"
        routerLink="/clientes"><i style="padding-right: 6px;" class="fa fa-reply"></i><span
            class="v">Voltar</span></button>
      </div>
    
    </div>

    <div class="form-row espaço">
      <div class="form-group col-md-3">
        <label for="processo">Processo</label>
        <input type="text" class="form-control" onkeyup='this.value=this.value.replace(/[^0-9]*/g,"")'
          placeholder="Processo" formControlName="processo">
        <!--  <app-campo-control-erro [mostrarErro]="verificaValidTouched('processo')" msgErro="Campo obrigatório">
          </app-campo-control-erro> -->
      </div>
      <div class="form-group col-md-3">
        <label for="inputPassword4">Polo Ativo</label>

        <input type="text" class="form-control" id="reclamanteId" placeholder="Polo ativo" formControlName="polo_ativo">
        <!--   <app-campo-control-erro [mostrarErro]="verificaValidTouched('polo_ativo')" msgErro="Campo obrigatório">
        </app-campo-control-erro> -->
      </div>
      <div class="form-group col-md-3">
        <label for="inputAddress">Polo Passivo</label>
        <input type="text" class="form-control" onkeyup='this.value=this.value.replace(/[^a-z],[^A-Z]*/g,"")'
          id="reclamadaId" placeholder="Polo passivo" formControlName="polo_passivo">
        <!--   <app-campo-control-erro [mostrarErro]="verificaValidTouched('polo_passivo')" msgErro="Campo obrigatório">
        </app-campo-control-erro> -->
      </div>
      <div class="form-group col-md-2">
        <label for="inputZip">Tipo</label>
        <select class="form-control" id="topoId" formControlName="tipo">
          <option disabled>Tipo...</option>
          <option value="Trabalhista">Trabalhista</option>
          <option value="Penal">Penal</option>
          <option value="Civil">Civil</option>
        </select>
      </div>
    </div>
    <div class="form-row">
      <div class="form-group col-md-1">
        <label for="inputAddress2">Valor</label>
        <input type="number" class="form-control" id="valorId" placeholder="Valor" formControlName="valor">
        <!--  <app-campo-control-erro [mostrarErro]="verificaValidTouched('valor')" msgErro="Campo obrigatório">
        </app-campo-control-erro> -->
      </div>

      <div class="form-group col-md-2">
        <label for="inputCity">Parcelado em</label>
        <input type="number" class="form-control" id="nparcelasId" placeholder="Número de parcelas"
          formControlName="parcelas">
        <!-- <app-campo-control-erro [mostrarErro]="verificaValidTouched('parcelas')" msgErro="Campo obrigatório">
        </app-campo-control-erro> -->
      </div>

      <div class="form-group col-md-2">
        <label for="inputZip">Vencimento</label>
        <input type="text" class="form-control" id="vencimentoId" placeholder="Vencimento" formControlName="vencimento">
        <!-- <app-campo-control-erro [mostrarErro]="verificaValidTouched('vencimento')" msgErro="Campo obrigatório">
        </app-campo-control-erro> -->
      </div>
      <div class="form-group col-md-2">
        <label for="inputZip">Status do pagamento</label>
        <select class="form-control" id="selectId" formControlName="status">
          <!-- <app-campo-control-erro [mostrarErro]="verificaValidTouched('status')" msgErro="Campo obrigatório">
          </app-campo-control-erro>  -->
          <option value="0" disabled>Status...</option>
          <option value="Pago">Pago</option>
          <option value="Débito">Débito</option>
        </select>
      </div>
      <div class="form-group col-md-1">
        <label for="multa">Multa</label>
        <input type="number" class="form-control" onkeyup='this.value=this.value.replace(/[^0-9]*/g,"")'
          placeholder="Multa" formControlName="multa">
        <!--  <app-campo-control-erro [mostrarErro]="verificaValidTouched('juros')" msgErro="Campo obrigatório">
          </app-campo-control-erro> -->
      </div>
      <div class="form-group col-md-1">
        <label for="desconto">Desconto</label>
        <input type="number" class="form-control" onkeyup='this.value=this.value.replace(/[^0-9]*/g,"")'
          placeholder="Desconto" formControlName="desconto">
        <!--   <app-campo-control-erro [mostrarErro]="verificaValidTouched('desconto')" msgErro="Campo obrigatório">
          </app-campo-control-erro> -->
      </div>
    </div>
  </form>

</div>

<!-- <div class="col-md-12">
  <pre>{{formulario.value | json}}</pre>
</div> -->

<div class="accordion" id="accordionExample">
  <div class="card">
    <div class="card-header" id="headingOne">
      <h2 class="mb-0">
        <button style="font-size: 20px" class="btn" type="button" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
         <strong> Processos</strong>
        </button>
      </h2>
    </div>

    <div id="collapseOne" class="collapse show" aria-labelledby="headingOne" data-parent="#accordionExample">
      <div class="card-body">
        <div class="class= overflow-y" [style.height]="getSizePorcentagem(70)">
          <a class="list-group-item list-group-item-action flex-column align-items-start"
            *ngFor="let processo of listaProcesso">
            <div class="d-flex w-100 justify-content-between">
              <h5 class="mb-1">{{processo.processo}}</h5>
        
              <small > <span class="badge badge-pill" [ngClass]="processo.status == 'Débito' ? 'badge-danger' : 'badge-success' ">{{processo.status}}</span></small>
              <!-- <small >  <span class="badge badge-pill badge-success">Success</span></small> -->
        
            </div>
            <p class="mb-1"><span class="color lista">Polo Ativo:</span><span class="valores">{{processo.polo_ativo}}</span></p>
            <p class="mb-1"><span class="color lista">Polo Passivo:</span> <span class="valores">{{processo.polo_passivo}}</span></p>
            <div *ngIf="processo.isShowMore">
              <p class="mb-1"><span class="color lista">Valor: </span><span class="valores">{{processo.valor}}</span></p>
              <p class="mb-1"><span class="color lista">Mês de Vencimento:</span> <span class="valores">{{processo.vencimento}}</span></p>
              <p class="mb-1"><span class="color lista">Tipo: </span><span class="valores">{{processo.tipo}}</span></p>
              <p class="mb-1"><span class="color lista">Parcelas: </span><span class="valores">{{processo.parcelas}}</span><span class="lista"> x </span><span class="valores">{{processo.parcelado}}</span></p>
              <p *ngIf="processo.desconto > 0" class="mb-1" ><span  class="lista">Desconto: </span><span class="valores">{{processo.desconto}}</span></p>
              <p *ngIf="processo.multa > 0" class="mb-1"><span class="lista">Multa: </span><span class="valores">{{processo.multa}}</span></p>
            </div>
            <div class="text-right">
        
               
                <span >
                    <i (click)="editarProcesso(processo)" class='fas fa-pencil-alt pr-5 icone'></i>
                  </span>
        
              <span>
                <i (click)="excluirProcesso(processo)" class="fa fa-trash icone" aria-hidden="true"></i>
              </span>
        
        
            </div>
        
            <span class="show-more">
        
              <a style="cursor:pointer;"
                (click)="processo.isShowMore = !processo.isShowMore">{{!processo.isShowMore? 'ver mais' : 'ver menos'}}</a>
        
            </span> 
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<app-alert #alert></app-alert>


